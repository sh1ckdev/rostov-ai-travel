# ๐ ะคะะะะะฌะะะฏ ะะะกะขะะฃะะฆะะฏ ะะ ะะะะะะฎ

## โ ะัะต ะณะพัะพะฒะพ ะบ ะดะตะฟะปะพั!

ะัะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั ะฟัะพะฟะธัะฐะฝั ะฟััะผะพ ะฒ `docker-compose.yml` - ะฝะต ะฝัะถะฝั ะพัะดะตะปัะฝัะต .env ัะฐะนะปั!

## ๐ ะงัะพ ัะดะตะปะฐะฝะพ:

1. โ **docker-compose.yml** - ะฟะตัะตะผะตะฝะฝัะต ะฟัะพะฟะธัะฐะฝั ะฝะฐะฟััะผัั
2. โ **2GIS API ะบะปัั** - ัะถะต ะดะพะฑะฐะฒะปะตะฝ: `2aaa4ed7-7580-4e80-a139-f60e4be538c7`
3. โ **Dockerfile** - ะพะฟัะธะผะธะทะธัะพะฒะฐะฝ
4. โ **ะกะตัะฒะธั** - ะฟัะฐะฒะธะปัะฝะพะต ะธะผั `rostov-ai-travel-client`

## ๐ฏ ะะตะฟะปะพะน ะฝะฐ Dokploy:

### ะจะฐะณ 1: ะะฐะบะพะผะผะธัะธัั ะธะทะผะตะฝะตะฝะธั
```bash
git add .
git commit -m "Add environment variables to docker-compose"
git push origin main
```

### ะจะฐะณ 2: ะ Dokploy
1. ะััะฐะฝะพะฒะธัะต ััะฐััะน ะดะตะฟะปะพะน (ะตัะปะธ ะตััั)
2. ะะฐะถะผะธัะต **Rebuild** ะธะปะธ **Deploy**
3. ะะพะถะดะธัะตัั ะทะฐะฒะตััะตะฝะธั (3-5 ะผะธะฝัั)

### ะจะฐะณ 3: ะัะพะฒะตัะธัั
ะะพัะปะต ััะฟะตัะฝะพะณะพ ะดะตะฟะปะพั ะพัะบัะพะนัะต ะฒ ะฑัะฐัะทะตัะต:
```
http://ะฒะฐั-dokploy-ip:5000/api/test
```

ะะพะปะถะตะฝ ะฒะตัะฝััั:
```json
{
  "message": "Backend is working!",
  "timestamp": "...",
  "ip": "...",
  "userAgent": "..."
}
```

## ๐ฑ ะะพะดะบะปััะตะฝะธะต ะบะปะธะตะฝัะฐ

ะะพัะปะต ะดะตะฟะปะพั ะพะฑะฝะพะฒะธัะต `client/constants/http.ts`:

```typescript
// ะะฐะผะตะฝะธัะต IP ะฝะฐ ะฐะดัะตั ะฒะฐัะตะณะพ Dokploy ัะตัะฒะตัะฐ
const BACKEND_URL = 'http://ะะะจ_DOKPLOY_IP:5000/api';
```

ะะฐะฟัะธะผะตั:
```typescript
const BACKEND_URL = 'http://123.45.67.89:5000/api';
```

ะะฐัะตะผ ะฟะตัะตะทะฐะฟัััะธัะต ะบะปะธะตะฝั:
```bash
cd client
npm start
```

## ๐ ะะตะทะพะฟะฐัะฝะพััั (ะะะะะ!)

โ๏ธ **ะ ะฟัะพะดะฐะบัะตะฝะต** ะธะทะผะตะฝะธัะต JWT ัะตะบัะตัั ะฒ docker-compose.yml:

```yaml
JWT_ACCESS_SECRET: your-super-secret-jwt-access-key-2024-CHANGE-ME
JWT_REFRESH_SECRET: your-super-secret-jwt-refresh-key-2024-CHANGE-ME
```

ะะฐ ัะธะปัะฝัะต ัะฝะธะบะฐะปัะฝัะต ะบะปััะธ (32+ ัะธะผะฒะพะปะพะฒ):

```yaml
JWT_ACCESS_SECRET: ab3f9k2m9x7pq5n8v4j2h6g1d9c8b5a2
JWT_REFRESH_SECRET: z9y8x7w6v5u4t3s2r1q0p9o8n7m6l5k4
```

## ๐ ะกัััะบัััะฐ ะฟะพัะปะต ะดะตะฟะปะพั

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  rostov-ai-travel-client โ
โ    (Backend API)         โ
โ    Port: 5000            โ
โ                          โ
โ  โ Node.js              โ
โ  โ Express              โ
โ  โ 2GIS API             โ
โ  โ JWT Auth             โ
โโโโโโโโโโโโโโฌโโโโโโโโโโโโโโ
             โ
             โ connects to
             โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ      rostov-mongo        โ
โ      (Database)          โ
โ      Port: 27017         โ
โ                          โ
โ  โ MongoDB 7.0          โ
โ  โ Persistent storage   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต API

ะะพัะปะต ะดะตะฟะปะพั ะฟัะพัะตััะธััะนัะต endpoints:

```bash
# ะัะพะฒะตัะบะฐ ัะฐะฑะพัั
curl http://YOUR_IP:5000/api/test

# ะะตะณะธัััะฐัะธั
curl -X POST http://YOUR_IP:5000/api/registration \
  -H "Content-Type: application/json" \
  -d '{"email":"test@test.com","password":"123456","username":"testuser"}'

# ะัะพะด
curl -X POST http://YOUR_IP:5000/api/login \
  -H "Content-Type: application/json" \
  -d '{"email":"test@test.com","password":"123456"}'

# ะะพะปััะธัั POI
curl http://YOUR_IP:5000/api/pois

# ะะพะปััะธัั ะพัะตะปะธ
curl http://YOUR_IP:5000/api/hotels
```

## ๐ ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ

### ะัะพะฑะปะตะผะฐ: "Service not found"
**ะะตัะตะฝะธะต:** ะฃะฑะตะดะธัะตัั, ััะพ ะธะผั ัะตัะฒะธัะฐ ะฒ docker-compose.yml: `rostov-ai-travel-client`

### ะัะพะฑะปะตะผะฐ: "Build failed"
**ะะตัะตะฝะธะต:** 
1. ะัะพะฒะตัััะต ะปะพะณะธ Dokploy
2. ะฃะฑะตะดะธัะตัั, ััะพ ะฒัะต ัะฐะนะปั ะทะฐะบะพะผะผะธัะตะฝั
3. ะัะพะฒะตัััะต ัะธะฝัะฐะบัะธั docker-compose.yml

### ะัะพะฑะปะตะผะฐ: "Cannot connect to MongoDB"
**ะะตัะตะฝะธะต:**
1. ะะพะดะพะถะดะธัะต 10-20 ัะตะบัะฝะด (MongoDB ะธะฝะธัะธะฐะปะธะทะธััะตััั)
2. ะัะพะฒะตัััะต, ััะพ ะพะฑะฐ ะบะพะฝัะตะนะฝะตัะฐ ะทะฐะฟััะตะฝั
3. ะะพัะผะพััะธัะต ะปะพะณะธ mongo

### ะัะพะฑะปะตะผะฐ: "Network Error" ะฒ ะบะปะธะตะฝัะต
**ะะตัะตะฝะธะต:**
1. ะัะพะฒะตัััะต IP ะฒ `client/constants/http.ts`
2. ะฃะฑะตะดะธัะตัั, ััะพ ัะตัะฒะตั ะพัะฒะตัะฐะตั ะฝะฐ `/api/test`
3. ะัะพะฒะตัััะต firewall

## โ Checklist

- [ ] Git ัะตะฟะพะทะธัะพัะธะน ะพะฑะฝะพะฒะปะตะฝ
- [ ] Dokploy ะฟัะพะตะบั ัะพะทะดะฐะฝ
- [ ] ะะตะฟะปะพะน ะทะฐะฒะตััะตะฝ ััะฟะตัะฝะพ
- [ ] Backend ะพัะฒะตัะฐะตั ะฝะฐ `/api/test`
- [ ] MongoDB ัะฐะฑะพัะฐะตั
- [ ] IP ะพะฑะฝะพะฒะปะตะฝ ะฒ ะบะปะธะตะฝัะต
- [ ] ะะปะธะตะฝั ะฟะพะดะบะปััะฐะตััั ะบ ัะตัะฒะตัั
- [ ] JWT ัะตะบัะตัั ะธะทะผะตะฝะตะฝั (ะดะปั ะฟัะพะดะฐะบัะตะฝะฐ)

## ๐ ะะพะบัะผะตะฝัะฐัะธั

- `DOKPLOY_DEPLOY.md` - ะดะตะฟะปะพะน ะฝะฐ Dokploy
- `CLIENT_CONNECTION.md` - ะฟะพะดะบะปััะตะฝะธะต ะบะปะธะตะฝัะฐ
- `TWOGIS_SETUP.md` - ะฝะฐัััะพะนะบะฐ 2GIS
- `MIGRATION_TO_2GIS.md` - ะผะธะณัะฐัะธั ะฝะฐ 2GIS
- `back/API_DOCUMENTATION.md` - API ะดะพะบัะผะตะฝัะฐัะธั

## ๐ ะะพัะพะฒะพ!

ะะพัะปะต ะฒัะฟะพะปะฝะตะฝะธั ะฒัะตั ัะฐะณะพะฒ:
- โ Backend ัะฐะฑะพัะฐะตั ะฝะฐ Dokploy
- โ MongoDB ััะฐะฝะธั ะดะฐะฝะฝัะต
- โ 2GIS API ะธะฝัะตะณัะธัะพะฒะฐะฝ
- โ ะะปะธะตะฝั ะผะพะถะตั ะฟะพะดะบะปััะธัััั

---

**ะัะถะฝะฐ ะฟะพะผะพัั?** ะัะพะฒะตัััะต ะปะพะณะธ ะฒ Dokploy ะธะปะธ ัะผ. ะดะพะบัะผะตะฝัะฐัะธั ะฒััะต.

