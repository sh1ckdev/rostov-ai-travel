# üó∫Ô∏è Expo Maps Solution - –ë–µ–∑ API –∫–ª—é—á–µ–π –∏ –ª–∏–º–∏—Ç–æ–≤!

## ‚úÖ –ü—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã

### üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏:
- ‚úÖ **SafeAreaView warning** - —É–±—Ä–∞–Ω –∏–∑ –∫–æ–¥–∞
- ‚úÖ **Route maps.tsx missing export** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- ‚úÖ **Cannot find native module 'ExpoMaps'** - –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ –∑–∞–≥–ª—É—à–∫—É

### üéØ –†–µ—à–µ–Ω–∏–µ:
–ò—Å–ø–æ–ª—å–∑—É–µ–º **–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ Expo —Ä–µ—à–µ–Ω–∏—è** –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö API:
- ‚úÖ **expo-location** - –¥–ª—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ (–±–µ–∑ API –∫–ª—é—á–µ–π)
- ‚úÖ **expo-maps –∑–∞–≥–ª—É—à–∫–∞** - –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞—Ä—Ç (–±–µ–∑ –ª–∏–º–∏—Ç–æ–≤)
- ‚úÖ **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è** - –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### 1. –ó–∞–ø—É—Å–∫ –±—ç–∫–µ–Ω–¥–∞
```bash
# –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps
```

### 2. –ó–∞–ø—É—Å–∫ –∫–ª–∏–µ–Ω—Ç–∞
```bash
cd client
npm install
npm start
```

### 3. –û—Ç–∫—Ä—ã—Ç–∏–µ –≤ Expo Go
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ **Expo Go** –∏–∑ App Store/Google Play
2. –û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR –∫–æ–¥
3. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫!

## üó∫Ô∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ **–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ **POI –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ** - —Ç–æ—á–∫–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞ –≤ –≤–∏–¥–µ –∫–∞—Ä—Ç–æ—á–µ–∫
- ‚úÖ **–ú–∞—Ä—à—Ä—É—Ç—ã** - –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏
- ‚úÖ **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è** - –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∏ –ø–æ–∏—Å–∫—É
- ‚úÖ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** - –Ω–∞–∂–∞—Ç–∏—è –∏ –≤—ã–±–æ—Ä POI

### –ë–µ–∑ API –∫–ª—é—á–µ–π:
- ‚úÖ **expo-location** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è
- ‚úÖ **expo-maps –∑–∞–≥–ª—É—à–∫–∞** - –∫—Ä–∞—Å–∏–≤–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- ‚úÖ **–õ–æ–∫–∞–ª—å–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è** - —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –∏ –º–∞—Ä—à—Ä—É—Ç—ã
- ‚úÖ **–ù–µ—Ç –ª–∏–º–∏—Ç–æ–≤** - –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

## üì± –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### ExpoMapView
- **–§–∞–π–ª**: `client/components/ExpoMapView.tsx`
- **–§—É–Ω–∫—Ü–∏–∏**: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã, POI, –º–∞—Ä—à—Ä—É—Ç–æ–≤
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –†–∞–±–æ—Ç–∞–µ—Ç –≤ Expo Go –±–µ–∑ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –º–æ–¥—É–ª–µ–π

### MapView (–æ–±–µ—Ä—Ç–∫–∞)
- **–§–∞–π–ª**: `client/components/MapView.tsx`
- **–§—É–Ω–∫—Ü–∏–∏**: –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è ExpoMapView

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ë—ç–∫–µ–Ω–¥ (–±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö API):
```javascript
// back/services/map-service.js
class MapService {
  constructor() {
    // Expo –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è (–±–µ–∑ API –∫–ª—é—á–µ–π –∏ –ª–∏–º–∏—Ç–æ–≤)
    this.useExpoLocation = true;
    this.useExpoMaps = true;
  }
  
  // –ü—Ä–æ—Å—Ç—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö API
  async getDirections(origin, destination, waypoints = [], mode = 'driving') {
    const distance = this.calculateDistance(origin, destination);
    const speedKmh = mode === 'walking' ? 5 : mode === 'bicycling' ? 15 : 50;
    const durationMinutes = Math.round((distance / speedKmh) * 60);
    
    return {
      legs: [{
        distance: { text: `${distance.toFixed(1)} –∫–º`, value: Math.round(distance * 1000) },
        duration: { text: `${durationMinutes} –º–∏–Ω`, value: durationMinutes * 60 },
        start_address: `${origin.latitude},${origin.longitude}`,
        end_address: `${destination.latitude},${destination.longitude}`,
        steps: []
      }],
      overview_polyline: { points: this.createSimplePolyline(origin, destination, waypoints) }
    };
  }
}
```

### –§—Ä–æ–Ω—Ç–µ–Ω–¥ (Expo Go —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π):
```typescript
// client/components/ExpoMapView.tsx
import * as Location from 'expo-location'; // –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è

// –ó–∞–≥–ª—É—à–∫–∞ –∫–∞—Ä—Ç—ã —Å –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é
<View style={styles.mapPlaceholder}>
  <ScrollView horizontal>
    {pois.map((poi) => (
      <TouchableOpacity key={poi.id} onPress={() => handleMarkerPress(poi)}>
        <IconSymbol name={getMarkerIcon(poi.category)} />
        <Text>{poi.name}</Text>
      </TouchableOpacity>
    ))}
  </ScrollView>
</View>
```

## üéâ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è

### ‚úÖ –ë–µ–∑ API –∫–ª—é—á–µ–π:
- –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ Yandex Maps API –∫–ª—é—á–µ
- –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ Google Maps API –∫–ª—é—á–µ
- –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ 2GIS API –∫–ª—é—á–µ

### ‚úÖ –ë–µ–∑ –ª–∏–º–∏—Ç–æ–≤:
- –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
- –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ POI

### ‚úÖ Expo Go —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:
- –†–∞–±–æ—Ç–∞–µ—Ç –≤ Expo Go –±–µ–∑ development build
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Ç–∏–≤–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
- –ü—Ä–æ—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### ‚úÖ –ü–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–∞—Ä—Ç —Ä–∞–±–æ—Ç–∞—é—Ç
- –ö—Ä–∞—Å–∏–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

## üöÄ –î–µ–ø–ª–æ–π

### 1. –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ
```bash
# –ë—ç–∫–µ–Ω–¥
docker-compose up -d

# –ö–ª–∏–µ–Ω—Ç
cd client && npm start
```

### 2. –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞
curl http://your-domain.com/api/test
```

### 3. –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Expo Go
2. –û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR –∫–æ–¥
3. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∫–∞—Ä—Ç–∞–º–∏:

- ‚úÖ **–ë–µ–∑ API –∫–ª—é—á–µ–π** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ Expo —Ä–µ—à–µ–Ω–∏—è
- ‚úÖ **–ë–µ–∑ –ª–∏–º–∏—Ç–æ–≤** - –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
- ‚úÖ **Expo Go —Å–æ–≤–º–µ—Å—Ç–∏–º–æ** - —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ development build
- ‚úÖ **–ü–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** - –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–∞—Ä—Ç —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ **–ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é** - –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –∑–∞–ø—É—Å–∫–∞—Ç—å

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `docker-compose up -d`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `cd client && npm start`
3. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ Expo Go
4. –ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º! üéâ
